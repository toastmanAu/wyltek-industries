<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ESP32 Flasher | Wyltek Industries</title>
  <meta name="description" content="Flash CKB node firmware directly to your ESP32 from the browser. No drivers, no IDE ‚Äî just plug in and click." />
  <meta property="og:title" content="ESP32 Flasher ‚Äî Wyltek Industries" />
  <meta property="og:description" content="Flash CKB node firmware to ESP32 boards directly from your browser. Web Serial API ‚Äî no install required." />
  <meta property="og:url" content="https://wyltekindustries.com/flasher" />
  <link rel="canonical" href="https://wyltekindustries.com/flasher.html" />

  <!-- ESP Web Tools ‚Äî handles Web Serial + esptool protocol -->
  <script type="module" src="https://unpkg.com/esp-web-tools@10/dist/web/install-button.js"></script>

  <style>
    :root {
      --bg:      #0a0c0f;
      --surface: #111318;
      --surf2:   #181c23;
      --border:  #1e2430;
      --accent:  #00c8ff;
      --accent2: #7b5cfa;
      --green:   #00e5a0;
      --orange:  #ff8c42;
      --red:     #ff4d4d;
      --text:    #e2e8f0;
      --muted:   #64748b;
    }
    * { box-sizing: border-box; margin: 0; padding: 0; }
    html { scroll-behavior: smooth; }
    body {
      background: var(--bg);
      color: var(--text);
      font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
      font-size: 15px;
      line-height: 1.65;
      min-height: 100vh;
    }
    a { color: var(--accent); text-decoration: none; }
    a:hover { text-decoration: underline; }
    code {
      font-family: 'Consolas', 'Monaco', monospace;
      background: var(--surf2);
      padding: 0.1em 0.4em;
      border-radius: 4px;
      font-size: 0.88em;
      color: var(--green);
    }

    /* ‚îÄ‚îÄ Header ‚îÄ‚îÄ */
    header {
      border-bottom: 1px solid var(--border);
      padding: 0 2rem;
      position: sticky; top: 0;
      background: rgba(10,12,15,0.93);
      backdrop-filter: blur(12px);
      z-index: 100;
    }
    .header-inner {
      max-width: 1100px; margin: 0 auto;
      display: flex; align-items: center; justify-content: space-between;
      height: 60px;
    }
    .logo {
      display: flex; align-items: center; gap: 10px;
      font-weight: 700; font-size: 1.1rem; color: var(--text);
    }
    .logo-icon {
      width: 32px; height: 32px;
      background: linear-gradient(135deg, var(--accent), var(--accent2));
      border-radius: 8px;
      display: flex; align-items: center; justify-content: center; font-size: 17px;
    }
    nav { display: flex; gap: 1.5rem; }
    nav a { color: var(--muted); font-size: 0.9rem; transition: color 0.2s; }
    nav a:hover, nav a.active { color: var(--text); text-decoration: none; }
    nav a.active { color: var(--accent); }

    /* ‚îÄ‚îÄ Hero ‚îÄ‚îÄ */
    .hero {
      text-align: center;
      padding: 3.5rem 2rem 2rem;
      max-width: 720px;
      margin: 0 auto;
    }
    .hero-badge {
      display: inline-flex; align-items: center; gap: 8px;
      background: rgba(0,200,255,0.07); border: 1px solid rgba(0,200,255,0.2);
      border-radius: 20px; padding: 5px 16px; margin-bottom: 1.5rem;
      font-size: 0.75rem; color: var(--accent); letter-spacing: 0.1em; text-transform: uppercase;
    }
    .hero h1 {
      font-size: clamp(1.8rem, 5vw, 2.8rem);
      font-weight: 800; letter-spacing: -0.02em;
      margin-bottom: 1rem;
    }
    .hero h1 span { color: var(--accent); }
    .hero p { color: var(--muted); font-size: 1rem; line-height: 1.7; margin-bottom: 0.6rem; }

    /* ‚îÄ‚îÄ Browser warning ‚îÄ‚îÄ */
    .browser-warn {
      display: none;
      max-width: 700px; margin: 0 auto 1.5rem;
      background: rgba(255,77,77,0.08); border: 1px solid rgba(255,77,77,0.25);
      border-radius: 10px; padding: 0.9rem 1.2rem;
      font-size: 0.85rem; color: var(--red); text-align: center;
    }
    .browser-warn a { color: var(--red); text-decoration: underline; }

    /* ‚îÄ‚îÄ How it works ‚îÄ‚îÄ */
    .how-section {
      max-width: 1100px; margin: 0 auto;
      padding: 1rem 2rem 2.5rem;
    }
    .how-steps {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 1rem;
    }
    .how-step {
      background: var(--surface);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 1.2rem;
    }
    .how-num {
      font-size: 2rem; font-weight: 900; line-height: 1;
      color: rgba(0,200,255,0.15); margin-bottom: 0.6rem;
    }
    .how-step h3 { font-size: 0.9rem; font-weight: 700; margin-bottom: 0.3rem; }
    .how-step p { font-size: 0.82rem; color: var(--muted); line-height: 1.6; }

    /* ‚îÄ‚îÄ Firmware grid ‚îÄ‚îÄ */
    .fw-section {
      max-width: 1100px; margin: 0 auto;
      padding: 0 2rem 4rem;
    }
    .section-label {
      font-size: 0.72rem; font-weight: 700; letter-spacing: 0.15em;
      text-transform: uppercase; color: var(--accent);
      margin-bottom: 1rem;
    }
    .fw-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
      gap: 1.2rem;
    }

    /* ‚îÄ‚îÄ Firmware card ‚îÄ‚îÄ */
    .fw-card {
      background: var(--surface);
      border: 1px solid var(--border);
      border-radius: 14px;
      overflow: hidden;
      transition: border-color 0.2s, transform 0.15s;
      display: flex; flex-direction: column;
    }
    .fw-card:hover:not(.fw-soon) { border-color: rgba(0,200,255,0.35); transform: translateY(-2px); }
    .fw-card.fw-soon { opacity: 0.5; }

    .fw-card-img {
      width: 100%; height: 160px;
      background: var(--surf2);
      display: flex; align-items: center; justify-content: center;
      font-size: 3rem;
      position: relative;
    }
    .fw-card-img img {
      width: 100%; height: 100%; object-fit: cover;
    }
    .fw-chip-badge {
      position: absolute; bottom: 10px; left: 12px;
      background: rgba(10,12,15,0.85); backdrop-filter: blur(4px);
      border: 1px solid var(--border); border-radius: 6px;
      padding: 3px 10px; font-size: 0.72rem; font-family: monospace;
      color: var(--green);
    }
    .fw-soon-badge {
      position: absolute; top: 10px; right: 12px;
      background: rgba(100,116,139,0.25); border: 1px solid var(--border);
      border-radius: 6px; padding: 3px 10px;
      font-size: 0.68rem; color: var(--muted);
      text-transform: uppercase; letter-spacing: 0.1em;
    }

    .fw-body { padding: 1.2rem; flex: 1; display: flex; flex-direction: column; gap: 0.6rem; }
    .fw-title { font-size: 1rem; font-weight: 700; }
    .fw-desc { font-size: 0.83rem; color: var(--muted); line-height: 1.6; flex: 1; }
    .fw-meta {
      display: flex; gap: 1rem; font-size: 0.78rem; color: var(--muted);
      align-items: center; flex-wrap: wrap;
    }
    .fw-meta a { color: var(--accent); }
    .fw-version {
      font-family: monospace; font-size: 0.75rem; color: var(--muted);
    }
    .fw-version span { color: var(--green); }

    /* ESP Web Tools button */
    esp-web-install-button { display: block; width: 100%; margin-top: 0.4rem; }
    esp-web-install-button::part(button) {
      width: 100%;
      background: var(--accent);
      color: #000;
      border: none;
      border-radius: 8px;
      padding: 0.7rem 0;
      font-size: 0.95rem;
      font-weight: 700;
      cursor: pointer;
      transition: opacity 0.15s, transform 0.1s;
      font-family: inherit;
    }
    esp-web-install-button::part(button):hover { opacity: 0.88; }
    esp-web-install-button[install-unsupported]::part(button) {
      background: var(--border);
      color: var(--muted);
      cursor: not-allowed;
    }

    .fw-soon-btn {
      width: 100%; padding: 0.7rem;
      background: var(--border); color: var(--muted);
      border: none; border-radius: 8px;
      font-size: 0.9rem; font-weight: 600;
      cursor: not-allowed; margin-top: 0.4rem;
      font-family: inherit;
    }

    /* ‚îÄ‚îÄ After flash / config section ‚îÄ‚îÄ */
    .after-section {
      max-width: 1100px; margin: 0 auto;
      padding: 0 2rem 4rem;
    }
    .after-box {
      background: var(--surface);
      border: 1px solid var(--border);
      border-radius: 14px;
      padding: 1.6rem 2rem;
    }
    .after-box h2 { font-size: 1.1rem; font-weight: 700; margin-bottom: 0.4rem; }
    .after-box p { font-size: 0.85rem; color: var(--muted); line-height: 1.7; margin-bottom: 1rem; }
    .after-steps {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 0.8rem;
    }
    .after-step {
      background: var(--surf2);
      border: 1px solid var(--border);
      border-radius: 10px;
      padding: 1rem;
    }
    .after-step-num {
      font-size: 1.4rem; font-weight: 900; color: rgba(0,200,255,0.2);
      margin-bottom: 0.4rem;
    }
    .after-step p { font-size: 0.8rem; color: var(--muted); margin-bottom: 0; line-height: 1.6; }
    .after-note {
      margin-top: 1rem;
      font-size: 0.78rem; color: var(--muted);
      padding: 0.8rem 1rem;
      background: var(--surf2);
      border-radius: 8px;
      border-left: 3px solid var(--accent);
      line-height: 1.65;
    }
    .after-note code { font-size: 0.82em; }

    /* ‚îÄ‚îÄ Footer ‚îÄ‚îÄ */
    footer {
      border-top: 1px solid var(--border);
      padding: 2rem; text-align: center;
      color: var(--muted); font-size: 0.85rem;
    }
    footer a { color: var(--muted); }
    footer a:hover { color: var(--accent); }

    hr.div { max-width: 1100px; margin: 0 auto; border: none; border-top: 1px solid var(--border); }

    @media (max-width: 600px) { }
  
    /* ‚îÄ‚îÄ Nav toggle (mobile) ‚îÄ‚îÄ */
    .nav-toggle {
      display: none;
      background: none; border: none; cursor: pointer;
      font-size: 1.4rem; color: var(--text, #e2e8f0);
      padding: 0.2rem 0.4rem; line-height: 1;
    }
    @media (max-width: 700px) {
      nav#mainNav { display: none; flex-direction: column; gap: 0; position: absolute;
        top: 100%; left: 0; right: 0; background: var(--surface, #0f1117);
        border-bottom: 1px solid var(--border, #1e2430); padding: 0.5rem 0; z-index: 999; }
      nav#mainNav.open { display: flex; }
      nav#mainNav a { padding: 0.7rem 1.5rem; font-size: 1rem; border-bottom: 1px solid var(--border, #1e2430); }
      nav#mainNav a:last-child { border-bottom: none; }
      .nav-toggle { display: block; }
      .header-inner { position: relative; }
    }
  </style>
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="manifest" href="/site.webmanifest">
  <meta name="theme-color" content="#07090f">
</head>
<body>

<!-- HEADER -->
<header>
  <div class="header-inner">
    <a class="logo" href="index.html">
      <img src="wyltek-mark.png" alt="Wyltek" style="width:28px;height:28px;border-radius:7px;object-fit:cover;">
      Wyltek Industries
    </a>
        <nav id="mainNav">
      <a href="index.html">Home</a>
      <a href="blog.html">Devlog</a>
      <a href="blackbox.html">BlackBox</a>
      <a href="ckb-sync.html">CKB Sync</a>
      <a href="flasher.html" class="active">Flasher</a>
      <a href="hardware.html">Hardware</a>
      <a href="ckb-light-esp.html">Light Client</a>
      <a href="images.html">Images</a>
      <a href="https://github.com/toastmanAu" target="_blank">GitHub ‚Üó</a>
    </nav>
    <button class="nav-toggle" id="navToggle" aria-label="Toggle menu">&#9776;</button></div>
</header>

<!-- HERO -->
<div class="hero">
  <div class="hero-badge">‚ö° Web Serial API</div>
  <h1>Flash your <span>ESP32</span><br>from the browser</h1>
  <p>No drivers. No IDE. No command line. Plug in your board, pick your firmware, click Flash ‚Äî done in under a minute.</p>
  <p style="color:var(--green); font-size:0.85rem; margin-top:0.3rem">üì± Works on Android too ‚Äî Chrome + USB OTG adapter, no PC needed.</p>
</div>

<!-- Browser compat warning (shown if no Web Serial) -->
<div class="browser-warn" id="browserWarn">
  ‚ö†Ô∏è <strong>Web Serial requires Chrome or Edge on desktop</strong>, or Chrome on Android with a USB OTG adapter.
  <a href="https://caniuse.com/web-serial" target="_blank">Safari is not supported.</a>
  You can still browse firmware below and flash manually with esptool.
</div>

<hr class="div" style="margin-bottom:2rem" />

<!-- HOW IT WORKS -->
<div class="how-section">
  <div class="section-label">How it works</div>
  <div class="how-steps">
    <div class="how-step">
      <div class="how-num">01</div>
      <h3>Plug in your ESP32</h3>
      <p>Connect via USB. On Windows you may need a <a href="https://www.silabs.com/developers/usb-to-uart-bridge-vcp-drivers" target="_blank">CH340 or CP2102 driver</a> if not already installed.</p>
    </div>
    <div class="how-step">
      <div class="how-num">02</div>
      <h3>Pick your firmware</h3>
      <p>Select the firmware for your board below. Each card shows what it does and which hardware it targets.</p>
    </div>
    <div class="how-step">
      <div class="how-num">03</div>
      <h3>Click Flash</h3>
      <p>Your browser will prompt you to select the USB serial port. Select it, confirm the flash, and wait ~30 seconds.</p>
    </div>
    <div class="how-step">
      <div class="how-num">04</div>
      <h3>Configure & go</h3>
      <p>After reboot, connect to the <code>WyConfig</code> WiFi hotspot and enter your credentials. Device saves them to flash and connects.</p>
    </div>
  </div>
</div>

<hr class="div" style="margin: 0 auto 2rem;" />

<!-- FIRMWARE CARDS ‚Äî LIVE -->
<div class="fw-section">
  <div class="section-label">Available firmware</div>
  <div class="fw-grid">

    <!-- NerdMiner CKB ‚Äî CYD -->
    <div class="fw-card">
      <div class="fw-card-img">
        ‚õèÔ∏è
        <div class="fw-chip-badge">ESP32 ¬∑ CYD 2432S028R</div>
      </div>
      <div class="fw-body">
        <div class="fw-title">NerdMiner CKB</div>
        <div class="fw-desc">
          Solo mine CKB using Eaglesong PoW on the Cheap Yellow Display. Shows live hashrate,
          shares submitted, uptime, and pool connection status on the 320√ó240 ILI9341 touchscreen.
          Dual-core optimised ‚Äî hash loop pinned to Core 0.
        </div>
        <div class="fw-meta">
          <span>ILI9341 ¬∑ 320√ó240</span>
          <a href="https://github.com/toastmanAu/NerdMiner_CKB" target="_blank">Source ‚Üó</a>
        </div>
        <div class="fw-version">Version: <span id="ver-nerdminer">‚Äî</span></div>
        <esp-web-install-button manifest="firmware/nerdminer-cyd/manifest.json">
          <span slot="unsupported">Chrome or Edge required to flash</span>
        </esp-web-install-button>
      </div>
    </div>

    <!-- CKB Node Monitor ‚Äî Guition S3 -->
    <div class="fw-card">
      <div class="fw-card-img">
        üì°
        <div class="fw-chip-badge">ESP32-S3 ¬∑ Guition 4848S040</div>
      </div>
      <div class="fw-body">
        <div class="fw-title">CKB Node Monitor</div>
        <div class="fw-desc">
          Live CKB chain stats on a 480√ó480 touchscreen. Displays block height, peer count,
          epoch progress, tip hash, and sync status. Polls your local CKB node via WiFi.
          Also acts as an HTTP relay ‚Äî POST transactions to <code>/broadcast</code>.
        </div>
        <div class="fw-meta">
          <span>ST7701S ¬∑ 480√ó480</span>
          <a href="https://github.com/toastmanAu/ckb-firmware" target="_blank">Source ‚Üó</a>
        </div>
        <div class="fw-version">Version: <span id="ver-s3node">‚Äî</span></div>
        <esp-web-install-button manifest="firmware/guition4848/manifest.json">
          <span slot="unsupported">Chrome or Edge required to flash</span>
        </esp-web-install-button>
      </div>
    </div>

    <!-- CKB CYD Node ‚Äî coming soon -->
    <div class="fw-card fw-soon">
      <div class="fw-card-img">
        üñ•Ô∏è
        <div class="fw-chip-badge">ESP32 ¬∑ CYD 2432S028R</div>
        <div class="fw-soon-badge">Coming soon</div>
      </div>
      <div class="fw-body">
        <div class="fw-title">CKB Node Monitor ‚Äî CYD</div>
        <div class="fw-desc">
          Same chain stats dashboard as the S3 node, ported to the Cheap Yellow Display.
          A $12 board with 320√ó240 touchscreen ‚Äî the lowest-cost CKB node display you can build.
        </div>
        <div class="fw-meta">
          <span>ILI9341 ¬∑ 320√ó240</span>
          <a href="https://github.com/toastmanAu/CKB-CYD-node" target="_blank">Source ‚Üó</a>
        </div>
        <button class="fw-soon-btn" disabled>Coming soon</button>
      </div>
    </div>

    <!-- LoRa Client ‚Äî coming soon -->
    <div class="fw-card fw-soon">
      <div class="fw-card-img">
        üìª
        <div class="fw-chip-badge">ESP32-S3 ¬∑ T-Impulse</div>
        <div class="fw-soon-badge">Coming soon</div>
      </div>
      <div class="fw-body">
        <div class="fw-title">CKB LoRa Client</div>
        <div class="fw-desc">
          Block height and node stats over LoRa SX1262. No WiFi required ‚Äî range up to several kilometres line of sight.
          Wristband form factor with 1.69" display.
        </div>
        <div class="fw-meta">
          <span>ST7789 ¬∑ 240√ó280 ¬∑ SX1262</span>
        </div>
        <button class="fw-soon-btn" disabled>Coming soon</button>
      </div>
    </div>

    <!-- CKB Light Client P4 ‚Äî coming soon -->
    <div class="fw-card fw-soon">
      <div class="fw-card-img">
        üîê
        <div class="fw-chip-badge">ESP32-P4 ¬∑ RISC-V</div>
        <div class="fw-soon-badge">Coming soon</div>
      </div>
      <div class="fw-body">
        <div class="fw-title">CKB Light Client</div>
        <div class="fw-desc">
          Full CKB light client on ESP32-P4. Header verification, Merkle proofs, SPHINCS+ signing.
          No trusted full node required. Self-sovereign, embedded.
        </div>
        <div class="fw-meta">
          <span>ESP32-P4 ¬∑ W5500 Ethernet</span>
        </div>
        <button class="fw-soon-btn" disabled>Coming soon</button>
      </div>
    </div>

  </div>
</div>

<hr class="div" style="margin-bottom:2rem" />

<!-- AFTER FLASH / CONFIG -->
<div class="after-section">
  <div class="section-label">After flashing</div>
  <div class="after-box">
    <h2>Configure WiFi & node address</h2>
    <p>
      Every firmware ships with a built-in config mode. You don't need to reflash to change WiFi credentials
      or point the device at a different CKB node.
    </p>
    <div class="after-steps">
      <div class="after-step">
        <div class="after-step-num">01</div>
        <p>On first boot, the device broadcasts a WiFi hotspot named <strong>WyConfig</strong>. Connect to it from your phone or laptop.</p>
      </div>
      <div class="after-step">
        <div class="after-step-num">02</div>
        <p>A config page opens at <code>192.168.4.1</code>. Enter your WiFi network name, password, and CKB node URL.</p>
      </div>
      <div class="after-step">
        <div class="after-step-num">03</div>
        <p>Hit Save. Settings are written to flash and the device reboots into normal operation.</p>
      </div>
      <div class="after-step">
        <div class="after-step-num">04</div>
        <p>To reconfigure later: hold the boot button for 3 seconds. The hotspot comes back up.</p>
      </div>
    </div>
    <div class="after-note">
      <strong>Node URL options:</strong> Point at your local node (<code>http://192.168.x.x:8114</code>),
      a light client (<code>http://192.168.x.x:9000</code>), or a public endpoint like
      <code>https://mainnet.ckbapp.dev</code>. Your own node is always best ‚Äî no rate limits, no trust required.
    </div>
  </div>
</div>

<!-- FOOTER -->
<footer>
  <p>
    <a href="index.html">‚Üê Wyltek Industries</a> &nbsp;¬∑&nbsp;
    <a href="https://github.com/toastmanAu" target="_blank">GitHub</a> &nbsp;¬∑&nbsp;
    <a href="blog.html">Devlog</a>
  </p>
  <p style="font-size:0.78rem; margin-top:0.4rem; opacity:0.5">Wyltek Industries &mdash; wouldn't you like to know</p>
  <p style="margin-top:.8rem;font-size:.78rem;opacity:.7">Built in the Nervos CKB ecosystem ¬∑ <a href="https://nervos.org" target="_blank">nervos.org</a></p>
</footer>

<script>
  // Show browser warning if Web Serial not available
  if (!('serial' in navigator)) {
    document.getElementById('browserWarn').style.display = 'block';
  }

  // Load firmware versions from manifests
  const versions = [
    { manifest: 'firmware/nerdminer-cyd/manifest.json', el: 'ver-nerdminer' },
    { manifest: 'firmware/guition4848/manifest.json',   el: 'ver-s3node'    },
  ];
  versions.forEach(({ manifest, el }) => {
    fetch(manifest)
      .then(r => r.json())
      .then(m => {
        const v = m.version || 'unknown';
        document.getElementById(el).textContent = v.length > 12 ? v.slice(0,10)+'‚Ä¶' : v;
        document.getElementById(el).title = v;
      })
      .catch(() => {
        document.getElementById(el).textContent = 'see GitHub';
      });
  });
</script>

  <script>
    (function(){
      var btn = document.getElementById('navToggle');
      var nav = document.getElementById('mainNav');
      if(btn && nav) btn.addEventListener('click', function(){
        nav.classList.toggle('open');
      });
      // close on outside click
      document.addEventListener('click', function(e){
        if(nav && btn && !nav.contains(e.target) && e.target !== btn) nav.classList.remove('open');
      });
    })();
  </script>
</body>
</html>
